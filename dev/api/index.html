<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · ABMPredictionMarkets</title><meta name="title" content="API · ABMPredictionMarkets"/><meta property="og:title" content="API · ABMPredictionMarkets"/><meta property="twitter:title" content="API · ABMPredictionMarkets"/><meta name="description" content="Documentation for ABMPredictionMarkets."/><meta property="og:description" content="Documentation for ABMPredictionMarkets."/><meta property="twitter:description" content="Documentation for ABMPredictionMarkets."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="ABMPredictionMarkets logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ABMPredictionMarkets</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../basic_example/">Basic Example</a></li><li><a class="tocitem" href="../arbitrage_example/">Arbitrage Example</a></li><li><a class="tocitem" href="../price_manipulation_example/">Price Manipulation Example</a></li></ul></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Plotting"><span>Plotting</span></a></li><li class="toplevel"><a class="tocitem" href="#Internal-Functions"><span>Internal Functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/itsdfish/ABMPredictionMarkets.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Public-API"><a class="docs-heading-anchor" href="#Public-API">Public API</a><a id="Public-API-1"></a><a class="docs-heading-anchor-permalink" href="#Public-API" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.AMMOrder" href="#ABMPredictionMarkets.AMMOrder"><code>ABMPredictionMarkets.AMMOrder</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AMMOrder &lt;: AbstractOrder</code></pre><p>An object representing a bid, ask, or share. </p><p><strong>Fields</strong></p><ul><li><code>id::Int</code>: agent id </li><li><code>option_id</code>: option id</li><li><code>cost::Float64</code>: total cost of order</li><li><code>n_shares</code>: the number of shares in the order</li></ul><p><strong>Constructors</strong></p><pre><code class="nohighlight hljs">AMMOrder(id, option, cost, n_shares)

AMMOrder(; id, option, cost, n_shares)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/orders.jl#L44-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.AbstractCDA" href="#ABMPredictionMarkets.AbstractCDA"><code>ABMPredictionMarkets.AbstractCDA</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractCDA &lt;: AbstractPredictionMarket</code></pre><p>An abstract type for a continuous double auction prediction market. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/type_system.jl#L22-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.AbstractCPMM" href="#ABMPredictionMarkets.AbstractCPMM"><code>ABMPredictionMarkets.AbstractCPMM</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractCPMM &lt;: AbstractPredictionMarket</code></pre><p>An abstract type for a prediction market using a constant product market maker. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/type_system.jl#L36-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.AbstractLSR" href="#ABMPredictionMarkets.AbstractLSR"><code>ABMPredictionMarkets.AbstractLSR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractLSR &lt;: AbstractPredictionMarket</code></pre><p>An abstract type for a prediction market using a logarithmic scoring rule. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/type_system.jl#L29-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.AbstractOrder" href="#ABMPredictionMarkets.AbstractOrder"><code>ABMPredictionMarkets.AbstractOrder</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractOrder</code></pre><p>An abstract type representing bids and asks. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/type_system.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.AbstractPredictionMarket" href="#ABMPredictionMarkets.AbstractPredictionMarket"><code>ABMPredictionMarkets.AbstractPredictionMarket</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractPredictionMarket</code></pre><p>An abstract type for a prediction market. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/type_system.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.CDA" href="#ABMPredictionMarkets.CDA"><code>ABMPredictionMarkets.CDA</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CDA &lt;: AbstractCDA</code></pre><p>Holds data and order book for a continuous double auction prediction market simulation.</p><p><strong>Fields</strong></p><ul><li><code>order_books::Vector{Vector{Order}}</code>: outstanding orders (bids and asks). Each sub-vector corresponds to a different market</li><li><code>market_prices::Vector{Vector{Float64}}</code>: the market price in dollars after each interaction. The market price stays the same   if a transaction does not occur. Each sub-vector corresponds to a different market</li><li><code>trade_volume::Vector{Vector{Int}}</code>: each elements represents the number of trades made per step</li><li><code>iteration_ids</code>::Vector{Vector{Int}}`: iteration number on which market prices are recorded</li><li><code>times::Vector{Int} = Int[]</code>: times at which specific events may occur</li></ul><p><strong>Constructors</strong></p><pre><code class="nohighlight hljs">CDA(; order_book)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L1-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.CPMM" href="#ABMPredictionMarkets.CPMM"><code>ABMPredictionMarkets.CPMM</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CPMM &lt;: AbstractCPMM</code></pre><p>Holds reserves and data for a constant product market maker prediction market simulation.</p><p><strong>Fields</strong></p><ul><li><code>yes_reserves::Vector{Float64}</code>: reserves for &quot;yes&quot; shares. Each element corresponds to a different market</li><li><code>no_reserves::Vector{Float64}</code>: reserves for &quot;no&quot; shares. Each element corresponds to a different market</li><li><code>market_prices::Vector{Vector{Float64}}</code>: the market price in dollars after each interaction. The market price stays the same   if a transaction does not occur. Each sub-vector corresponds to a different market</li><li><code>trade_volume::Vector{Vector{Int}}</code>: each elements represents the number of trades made per step</li><li><code>iteration_ids</code>::Vector{Vector{Int}}`: iteration number on which market prices are recorded</li><li><code>times::Vector{Int} = Int[]</code>: times at which specific events may occur</li></ul><p><strong>Constructors</strong></p><pre><code class="nohighlight hljs">CPMM(; yes_reserves, no_reserves, times = Int[])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/constant_product_market_maker.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.DiscreteDirichlet" href="#ABMPredictionMarkets.DiscreteDirichlet"><code>ABMPredictionMarkets.DiscreteDirichlet</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DiscreteDirichlet{T} &lt;: ContinuousMultivariateDistribution</code></pre><p>A discrete version of Dirchlet distribution which sums to 100. </p><p><strong>Fields</strong></p><ul><li><code>μ::Vector{T}</code>: mean probabilities which sum to 1</li><li><code>η::T</code>: a scalar multiple of <code>μ</code> inversely related to variance. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/utilities.jl#L75-L84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.LSR" href="#ABMPredictionMarkets.LSR"><code>ABMPredictionMarkets.LSR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LSR &lt;: AbstractLSR</code></pre><p>An automated market maker using the logarithmic scoring rule.</p><p><strong>Fields</strong></p><ul><li><code>elasticity</code>: elasticity parameter where higher values correspond to less elasticity</li><li><code>n_shares::Vector{Vector{Int}}</code>: each sub-vector corresponds to the number of shares for each option in a given market</li><li><code>market_prices::Vector{Vector{Vector{Float64}}}</code>: the market price in dollars after each interaction. The market price stays the same   if a transaction does not occur. Each sub-vector corresponds to a different market at a different iteration. </li><li><code>n_decimals::Int</code>: decimal places for rounding in favor of the automated market maker</li><li><code>trade_volume::Vector{Vector{Int}}</code>: each elements represents the number of trades made per step</li><li><code>iteration_ids</code>::Vector{Vector{Int}}`: iteration number on which market prices are recorded</li><li><code>times::Vector{Int} = Int[]</code>: times at which specific events may occur</li></ul><p><strong>Constructors</strong></p><pre><code class="nohighlight hljs">LSR(; elasticity, n_options, info_times)</code></pre><p><strong>References</strong></p><p>Berg, H., &amp; Proebsting, T. A. (2009). Hanson’s automated market maker. The Journal of Prediction Markets, 3(1), 45-59.</p><p>Hanson, R. (2003). Combinatorial information market design. Information Systems Frontiers, 5, 107-119.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/logarithmic_scoring_rule.jl#L1-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.MarketAgent" href="#ABMPredictionMarkets.MarketAgent"><code>ABMPredictionMarkets.MarketAgent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MarketAgent &lt;: AbstractAgent</code></pre><p>An agent that submits bids and asks in a prediction market. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/type_system.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.Order" href="#ABMPredictionMarkets.Order"><code>ABMPredictionMarkets.Order</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Order &lt;: AbstractOrder</code></pre><p>An object representing a bid, ask, or share. </p><p><strong>Fields</strong></p><ul><li><code>id::Int</code>: agent id </li><li><code>yes::Bool</code>: true if represents a <code>yes</code> share </li><li><code>price::Int</code>: the price of a single share, price ∈ [0,100]</li><li><code>quantity::Int</code>: the number of shares at a given price </li><li><code>type::Symbol</code>: object type type ∈ [bid,ask,share]</li></ul><p><strong>Constructors</strong></p><pre><code class="nohighlight hljs">Order(id, yes, price, quantity, type)

Order(; id, yes, price, quantity, type)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/orders.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.agent_step!-Tuple{Any, MarketAgent, AbstractPredictionMarket, Any}" href="#ABMPredictionMarkets.agent_step!-Tuple{Any, MarketAgent, AbstractPredictionMarket, Any}"><code>ABMPredictionMarkets.agent_step!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">agent_step!(agent, ::MarketAgent, ::AbstractPredictionMarket, model)</code></pre><p>The agent submits a new order for a bid or ask in each market.  The order is checked against potential sellers (buyers), and  an exchange is made if one is found. Otherwise, the order is added to the order book.    </p><p><strong>Arguments</strong></p><ul><li><code>agent</code>: an agent participating in the prediction market</li><li><code>::MarketAgent</code>: variant of agent possibly of the same type as <code>agent</code></li><li><code>::AbstractPredictionMarket</code>: a prediction market type </li><li><code>model</code>: an abm object for the prediction market simulation </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/market_agent.jl#L22-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.compute_trade_volume-Tuple{Any, Int64}" href="#ABMPredictionMarkets.compute_trade_volume-Tuple{Any, Int64}"><code>ABMPredictionMarkets.compute_trade_volume</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_trade_volume(trade_volume, interval_length)</code></pre><p>Computes trade volume for a set of time intervals </p><p><strong>Arguments</strong></p><ul><li><code>trade_volume</code>: indicates number of trades per step</li><li><code>interval_length</code>: the length of the interval in which trade volume is computed</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/utilities.jl#L34-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.compute_unpacking_factor-Tuple{Any}" href="#ABMPredictionMarkets.compute_unpacking_factor-Tuple{Any}"><code>ABMPredictionMarkets.compute_unpacking_factor</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_unpacking_factor(model)</code></pre><p>Computes the ratio of sum of subevents probabilities to the event probability for a 2×2 partition.  Event e is indexed by 1 and subevents e₁ and e₂ are indexed by 2 and 3. Probability theory requires p(e) = p(e₁) + p(e₂).</p><p>Arguments </p><ul><li><code>model</code>: an abm object for the prediction market simulation </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/utilities.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.summarize_by_iteration-Tuple{Any, Any}" href="#ABMPredictionMarkets.summarize_by_iteration-Tuple{Any, Any}"><code>ABMPredictionMarkets.summarize_by_iteration</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarize_by_iteration(values, iteration_ids; fun = x -&gt; x[end])</code></pre><p>Summarize by iteration using <code>fun</code></p><p><strong>Arguments</strong></p><ul><li><code>values</code>: a vector of values after each agent step </li><li><code>iteration_ids</code>: a vector containing the indices of iterations for each agent step </li></ul><p><strong>Keywords</strong></p><ul><li><code>fun = x -&gt; x[end]</code>: a function applied to market prices of each iteration. By default,</li></ul><p>the ending price is used. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/utilities.jl#L52-L66">source</a></section></article><h1 id="Plotting"><a class="docs-heading-anchor" href="#Plotting">Plotting</a><a id="Plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.plot_depth_chart" href="#ABMPredictionMarkets.plot_depth_chart"><code>ABMPredictionMarkets.plot_depth_chart</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_depth_chart(order_book::Vector{Order}; kwargs...)</code></pre><p>Creates a market depth chart to analyze supply and demand dynamics. The red area on the left represents the reversed cumulative distribution for bids. The blue area on the right represents the cumulative distribution for asks.  The mid market price is represented by vertical black line.</p><p><strong>Arguments</strong></p><ul><li><code>order_book::Vector{Order}</code>: a vector of orders (bids and asks) representing the order book (i.e. outstanding orders)</li></ul><p><strong>Keywords</strong></p><ul><li><code>config...</code>: optional keyword arguments to the function <code>plot</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/ext/PlotsExt.jl#L12-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.plot_dashboard" href="#ABMPredictionMarkets.plot_dashboard"><code>ABMPredictionMarkets.plot_dashboard</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_dashboard(
    model;
    title = make_title(model.market_prices),
    size = (1200, 1000),
    depth_chart_layout = make_layout(model.market_prices),
    outer_layout = [
        (label = :a, width = :auto, height = 0.70),
        (label = :b, width = :auto, height = 0.30)
    ],
    add_unpacking_factor = false,
    n_days = 1,
    depth_chart_config = (),
    price_chart_config = (),
)</code></pre><p>Plots an animated dashboard containing the following:</p><ol><li>A depth chart for each market. </li><li>Historical price for each market.</li><li>Optional unpacking factor based on two market sets. </li></ol><p><strong>Arguments</strong></p><ul><li><code>model</code>: an abm object for the prediction market simulation </li></ul><p><strong>Keywords</strong></p><ul><li><code>title</code>: a 1×n vector of labels for each market. By default, each element is eᵢ</li><li><code>depth_chart_layout</code>: the layout of the depth charts. By default, the smallest possible 2D grid is used.</li><li><code>size = (1200, 1000)</code>: size of dashboard animation </li><li><code>outer_layout</code>: the layout for the dashboard</li><li><code>add_unpacking_factor = false</code>: includes unpacking factor plot if true. If set to true, default layouts will need to be overwritten.</li><li><code>n_days = 1</code>: the number of days to simulate the prediction market</li><li><code>depth_chart_config = ()</code>: optional keyword arguments for the depth charts</li><li><code>price_chart_config = ()</code>: optional keyword arguments for price charts</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/ext/PlotsExt.jl#L81-L117">source</a></section></article><h1 id="Internal-Functions"><a class="docs-heading-anchor" href="#Internal-Functions">Internal Functions</a><a id="Internal-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-Functions" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.add_shares!-Tuple{Any, Any}" href="#ABMPredictionMarkets.add_shares!-Tuple{Any, Any}"><code>ABMPredictionMarkets.add_shares!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_shares!(shares, share)</code></pre><p>Adds a share to a vector of shares. A new element is add if the shares do not have an entry with the target price.  If an entry with the target price exists, the quantity is added to that entry </p><p><strong>Arguments</strong></p><ul><li><code>shares</code>: a vector of current shares </li><li><code>share</code>: a share to be added to <code>shares</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L382-L392">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.ask-Tuple{Any, MarketAgent, AbstractCDA, Any, Any}" href="#ABMPredictionMarkets.ask-Tuple{Any, MarketAgent, AbstractCDA, Any, Any}"><code>ABMPredictionMarkets.ask</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ask(agent, ::MarketAgent, ::AbstractCDA, model, bidx)</code></pre><p>Generates an ask amount according to </p><p><code>v ~ Uniform(p, + 1, p + δ)</code>,</p><p>where <code>p</code> is the maximum share price. </p><p><strong>Arguments</strong></p><ul><li><code>agent</code>: an agent participating in the prediction market</li><li><code>::MarketAgent</code>: variant of agent possibly of the same type as <code>agent</code></li><li><code>::AbstractPredictionMarket</code>: a prediction market type </li><li><code>model</code>: an abm object for the prediction market simulation </li><li><code>bidx</code>: the index of the current order book</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L116-L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.ask_bid_match!-NTuple{4, Any}" href="#ABMPredictionMarkets.ask_bid_match!-NTuple{4, Any}"><code>ABMPredictionMarkets.ask_bid_match!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ask_bid_match!(proposal, model, bidx, i)</code></pre><p>For agent <code>i</code> and agent <code>j</code>, let <code>b</code> be the bid amount, <code>a</code> be the ask amount, and <code>e</code> be the event.    If <code>bₑᵢ = aₑⱼ</code>, then exchange. </p><p><strong>Argument</strong></p><ul><li><code>proposal</code>: a proposal bid or ask </li><li><code>model</code>: an abm object for the prediction market simulation </li><li><code>bidx</code>: the index of the current order book</li><li><code>i</code>: the index for the current entry of the order book </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L234-L246">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.ask_match!-NTuple{4, Any}" href="#ABMPredictionMarkets.ask_match!-NTuple{4, Any}"><code>ABMPredictionMarkets.ask_match!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ask_match!(proposal, model, bidx, i)</code></pre><p>For agent <code>i</code> and agent <code>j</code>, let <code>a</code> be the ask amount, and <code>e</code> be the event.    If <code>aₑᵢ + a¬ₑⱼ = 1</code>, then remove shares and deduct ask amounts for <code>i</code> and <code>j</code> . </p><p><strong>Argument</strong></p><ul><li><code>proposal</code>: a proposal bid</li><li><code>model</code>: an abm object for the prediction market simulation </li><li><code>i</code>: the index for the current entry of the order book </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L404-L415">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.bid-Tuple{Any, MarketAgent, AbstractCDA, Any, Any}" href="#ABMPredictionMarkets.bid-Tuple{Any, MarketAgent, AbstractCDA, Any, Any}"><code>ABMPredictionMarkets.bid</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bid(agent, ::MarketAgent, ::AbstractCDA, model, bidx)</code></pre><p>Generates an ask amount according to </p><p><code>v ~ Uniform(p - δ, p - 1)</code>,</p><p>where <code>p</code> is the agent&#39;s subject probability of the event, expressed on a scale ranging from 0 100 (cents). The bid price is subtracted from  money and added to the bid reserve to ensure the agent has sufficient funds when making bids  in multiple markets. </p><p><strong>Arguments</strong></p><ul><li><code>agent</code>: an agent participating in the prediction market</li><li><code>::MarketAgent</code>: variant of agent possibly of the same type as <code>agent</code></li><li><code>::AbstractPredictionMarket</code>: a prediction market type </li><li><code>model</code>: an abm object for the prediction market simulation </li><li><code>bidx</code>: the index of the current order book</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L63-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.bid_match!-NTuple{4, Any}" href="#ABMPredictionMarkets.bid_match!-NTuple{4, Any}"><code>ABMPredictionMarkets.bid_match!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bid_match!(proposal, model, bidx, i)</code></pre><p>For agent <code>i</code> and agent <code>j</code>, let <code>b</code> be the bid amount, and <code>e</code> be the event.    If <code>bₑᵢ + b¬ₑⱼ = 1</code>, then create new shares for <code>i</code> and <code>j</code>. </p><p><strong>Argument</strong></p><ul><li><code>proposal</code>: a proposal bid</li><li><code>model</code>: an abm object for the prediction market simulation </li><li><code>bidx</code>: the index of the current order book</li><li><code>i</code>: the index for the current entry of the order book </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L325-L337">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.compute_optimal_purchase-Tuple{Any, CPMM, Any, Any, Bool}" href="#ABMPredictionMarkets.compute_optimal_purchase-Tuple{Any, CPMM, Any, Any, Bool}"><code>ABMPredictionMarkets.compute_optimal_purchase</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_optimal_purchase(agent, market::CPMM, belief, midx, yes)</code></pre><p>Computes the optimal amount of money to spend on shares based on a logarithmic utility function. </p><p><strong>Arguments</strong></p><ul><li><code>market::AbstractCPMM</code>: an abstract constant product market maker object </li><li><code>cost</code>: the total cost of the shares</li><li><code>midx</code>: market index</li><li><code>yes::Bool</code>: corresponds to a yes share if true; otherwise, corresponds to a no share</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/constant_product_market_maker.jl#L176-L187">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.compute_price-Tuple{AbstractCPMM, Any, Bool}" href="#ABMPredictionMarkets.compute_price-Tuple{AbstractCPMM, Any, Bool}"><code>ABMPredictionMarkets.compute_price</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_price(market::AbstractCPMM, midx, yes::Bool)</code></pre><p>Returns the current price of the specified share. </p><p><strong>Arguments</strong></p><ul><li><code>market::AbstractCPMM</code>: an abstract constant product market maker object </li><li><code>midx</code>: market index</li><li><code>yes::Bool</code>: corresponds to a yes share if true; otherwise, corresponds to a no share</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/constant_product_market_maker.jl#L54-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.compute_returns-Tuple{Any, Any}" href="#ABMPredictionMarkets.compute_returns-Tuple{Any, Any}"><code>ABMPredictionMarkets.compute_returns</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_returns(shares, p_true)</code></pre><p>Computes the expected return of a vector of shares. </p><p><strong>Arguments</strong></p><ul><li><code>shares</code>: a vector of shares </li><li><code>p_true</code>: the true probability of the event </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/utilities.jl#L16-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.cost_to_price-Tuple{AbstractLSR, Any, Any, Any}" href="#ABMPredictionMarkets.cost_to_price-Tuple{AbstractLSR, Any, Any, Any}"><code>ABMPredictionMarkets.cost_to_price</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cost_to_price(cost, price, elasticity)</code></pre><p>Finds the total cost of a transaction to move the current price to a new price. </p><p><strong>Arguments</strong></p><ul><li><code>cost</code>: the total dollar amount of an exchange of shares</li><li><code>price</code>: the current price of a given share</li><li><code>elasticity</code>: the elasticity parameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/logarithmic_scoring_rule.jl#L202-L212">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.cost_to_shares-Tuple{AbstractCPMM, Any, Any, Bool}" href="#ABMPredictionMarkets.cost_to_shares-Tuple{AbstractCPMM, Any, Any, Bool}"><code>ABMPredictionMarkets.cost_to_shares</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cost_to_shares(market::AbstractCPMM, cost, midx)</code></pre><p>Computes the number of shares required to achieve a given cost. </p><p><strong>Arguments</strong></p><ul><li><code>market::AbstractCPMM</code>: an abstract constant product market maker object </li><li><code>cost</code>: the total cost of the shares</li><li><code>midx</code>: market index</li><li><code>yes::Bool</code>: corresponds to a yes share if true; otherwise, corresponds to a no share</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/constant_product_market_maker.jl#L158-L169">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.cost_to_shares-Tuple{AbstractLSR, Any, Any, Any}" href="#ABMPredictionMarkets.cost_to_shares-Tuple{AbstractLSR, Any, Any, Any}"><code>ABMPredictionMarkets.cost_to_shares</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cost_to_shares(cost, price, elasticity)</code></pre><p>Finds the number of shares that can be purchased at a given total cost. </p><p><strong>Arguments</strong></p><ul><li><code>cost</code>: the toal dollar amount of an exchange of shares</li><li><code>price</code>: the current price of a given share</li><li><code>elasticity</code>: the elasticity parameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/logarithmic_scoring_rule.jl#L186-L196">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.create_order-Tuple{Any, MarketAgent, AbstractCDA, Any, Any}" href="#ABMPredictionMarkets.create_order-Tuple{Any, MarketAgent, AbstractCDA, Any, Any}"><code>ABMPredictionMarkets.create_order</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_order(agent, ::MarketAgent, ::AbstractCDA, model, bidx)</code></pre><p>Creates and returns a bid or ask. The function <code>bid</code> is called if the agent has no shares. The function <code>ask</code> is called if the agent has no money. If the agent has money and shares, <code>bid</code> and <code>ask</code> are called with equal probability. </p><p><strong>Arguments</strong></p><ul><li><code>agent::MarketAgent</code>: an agent participating in the prediction market</li><li><code>::MarketAgent</code>: variant of agent possibly of the same type as <code>agent</code></li><li><code>::AbstractPredictionMarket</code>: a prediction market type </li><li><code>model</code>: an abm object for the prediction market simulation </li><li><code>bidx</code>: the index of the current order book</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L37-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.get_market_info-Tuple{Any}" href="#ABMPredictionMarkets.get_market_info-Tuple{Any}"><code>ABMPredictionMarkets.get_market_info</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_market_info(order_book; yes)</code></pre><p>Returns the maximum bid and minimum ask in the order book. </p><p><strong>Arguments</strong></p><ul><li><code>order_book</code>: a vector of outstanding orders</li></ul><p><strong>Keywords</strong></p><ul><li><code>yes</code>: returns maximum bid and minimum ask for yes orders if true </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L444-L456">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.get_reserves-Tuple{AbstractCPMM, Any}" href="#ABMPredictionMarkets.get_reserves-Tuple{AbstractCPMM, Any}"><code>ABMPredictionMarkets.get_reserves</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_reserves(market::AbstractCPMM, midx)</code></pre><p>Returns the liquidity reserves for a given market.</p><p><strong>Arguments</strong></p><ul><li><code>market::AbstractCPMM</code>: an abstract constant product market maker object </li><li><code>midx</code>: market index</li></ul><p><strong>Returns</strong></p><ul><li><code>reserves::Tuple</code>: yes reserves, no reserves</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/constant_product_market_maker.jl#L141-L154">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.price_to_cost-Tuple{AbstractCPMM, Any, Any, Bool}" href="#ABMPredictionMarkets.price_to_cost-Tuple{AbstractCPMM, Any, Any, Bool}"><code>ABMPredictionMarkets.price_to_cost</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">price_to_cost(market::AbstractCPMM, target_price, midx, yes::Bool)</code></pre><p>Computes the total cost required to achieve a target price. </p><p><strong>Arguments</strong></p><ul><li><code>market::AbstractCPMM</code>: an abstract constant product market maker object </li><li><code>target_price</code>: the desired price after transaction</li><li><code>midx</code>: market index</li><li><code>yes::Bool</code>: corresponds to a yes share if true; otherwise, corresponds to a no share</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/constant_product_market_maker.jl#L119-L130">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.price_to_cost-Tuple{AbstractLSR, Any, Any, Any}" href="#ABMPredictionMarkets.price_to_cost-Tuple{AbstractLSR, Any, Any, Any}"><code>ABMPredictionMarkets.price_to_cost</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">price_to_cost(target_price, price, elasticity)</code></pre><p>Finds the number of shares needed to change to a new price. </p><p><strong>Arguments</strong></p><ul><li><code>target_price</code>: the new price after purchacing shares</li><li><code>price</code>: the current price of a given share</li><li><code>elasticity</code>: the elasticity parameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/logarithmic_scoring_rule.jl#L170-L180">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.price_to_shares-Tuple{AbstractLSR, Any, Any, Any}" href="#ABMPredictionMarkets.price_to_shares-Tuple{AbstractLSR, Any, Any, Any}"><code>ABMPredictionMarkets.price_to_shares</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">price_to_shares(target_price, price, elasticity)</code></pre><p>Finds the number of shares needed to change to a new price. </p><p><strong>Arguments</strong></p><ul><li><code>target_price</code>: the new price after purchacing shares</li><li><code>price</code>: the current price of a given share</li><li><code>elasticity</code>: the elasticity parameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/logarithmic_scoring_rule.jl#L153-L163">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.remove_orders!-Tuple{MarketAgent, Any, Any}" href="#ABMPredictionMarkets.remove_orders!-Tuple{MarketAgent, Any, Any}"><code>ABMPredictionMarkets.remove_orders!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs"> remove_orders!(agent::MarketAgent, model, bidx)</code></pre><p>Removes orders from the specified order book and transfers funds from the bid reserve to the agent&#39;s money fund.     </p><p><strong>Arguments</strong></p><ul><li><code>agent::MarketAgent</code>: an agent participating in the prediction market</li><li><code>model</code>: an abm object for the prediction market simulation </li><li><code>bidx</code>: the index of the current order book</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/market_agent.jl#L53-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.sample_ask-Tuple{Any, Any}" href="#ABMPredictionMarkets.sample_ask-Tuple{Any, Any}"><code>ABMPredictionMarkets.sample_ask</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample_ask(p, δ)</code></pre><p>Samples an amount to ask.  </p><p><code>v ~ Uniform(p, + 1, p + δ)</code>,</p><p>where <code>p</code> is typically the maximum share price. </p><p><strong>Arguments</strong></p><ul><li><code>p</code>: is typically the maximum share price. p ∈ [0, 100]</li><li><code>δ</code>: the range of noise added to ask price. δ ≥ 1.  </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L149-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.sample_bid-Tuple{Any, Any}" href="#ABMPredictionMarkets.sample_bid-Tuple{Any, Any}"><code>ABMPredictionMarkets.sample_bid</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample_bid(judgment, δ)</code></pre><p>Samples an amount to ask.  </p><p><code>v ~ Uniform(judgment, - δ, judgment - 1)</code>,</p><p>where <code>judgment</code> is the agent&#39;s subjective probability. </p><p><strong>Arguments</strong></p><ul><li><code>judgment</code>: s the agent&#39;s subjective probability. judgment ∈ [0, 100]</li><li><code>δ</code>: the range of noise added to ask price. δ ≥ 1.  </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L95-L108">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.set_elasticity-Tuple{Any, Any, Any}" href="#ABMPredictionMarkets.set_elasticity-Tuple{Any, Any, Any}"><code>ABMPredictionMarkets.set_elasticity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_elasticity(total_money, n_events, upper_price)</code></pre><p>Sets the elasticity parameter to a value such that an upper price is achieved if all money      in a market allocated to a given event. </p><p><strong>Arguments</strong></p><ul><li><code>total_money</code>: total money in a given market across all participants </li><li><code>n_events</code>: the number of events that can be purchased in a given market</li><li><code>upper_price</code>: the maximum price, achieved if all money is placed on a single event</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/logarithmic_scoring_rule.jl#L104-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.shares_to_cost-Tuple{AbstractCPMM, Any, Any, Bool}" href="#ABMPredictionMarkets.shares_to_cost-Tuple{AbstractCPMM, Any, Any, Bool}"><code>ABMPredictionMarkets.shares_to_cost</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">shares_to_cost(market::AbstractCPMM, n_shares, midx)</code></pre><p>Computes the total cost associated with a given number of shares of shares. </p><p><strong>Arguments</strong></p><ul><li><code>market::AbstractCPMM</code>: an abstract constant product market maker object </li><li><code>n_shares</code>: the number of shares</li><li><code>midx</code>: market index</li><li><code>yes::Bool</code>: corresponds to a yes share if true; otherwise, corresponds to a no share</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/constant_product_market_maker.jl#L97-L108">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.shares_to_cost-Tuple{AbstractLSR, Any, Any, Any}" href="#ABMPredictionMarkets.shares_to_cost-Tuple{AbstractLSR, Any, Any, Any}"><code>ABMPredictionMarkets.shares_to_cost</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">shares_to_cost(price, n_shares, elasticity)</code></pre><p>Finds the cost given a number of shares and current price. </p><p><strong>Arguments</strong></p><ul><li><code>price</code>: the current price of a given share</li><li><code>n_shares</code>: the number of shares purchased</li><li><code>elasticity</code>: the elasticity parameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/logarithmic_scoring_rule.jl#L121-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.shares_to_price-Tuple{AbstractLSR, Any, Any, Any}" href="#ABMPredictionMarkets.shares_to_price-Tuple{AbstractLSR, Any, Any, Any}"><code>ABMPredictionMarkets.shares_to_price</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">shares_to_price(price, n_shares, elasticity)</code></pre><p>Finds the new price given a number of shares and current price. </p><p><strong>Arguments</strong></p><ul><li><code>price</code>: the current price of a given share</li><li><code>n_shares</code>: the number of shares purchased</li><li><code>elasticity</code>: the elasticity parameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/logarithmic_scoring_rule.jl#L137-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.to_beta-Tuple{Any, Any}" href="#ABMPredictionMarkets.to_beta-Tuple{Any, Any}"><code>ABMPredictionMarkets.to_beta</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">to_beta(μ, σ)</code></pre><p>Returns α and β parameters of beta distribution corresponding to the desired mean and  standard deviation. </p><p><strong>Arguments</strong></p><ul><li><code>μ</code>: the desired mean of the beta distribution </li><li><code>σ</code>: the desired standard deviation of the beta distribution</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L481-L491">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.transact!-Tuple{Any, AbstractCDA, Any, Any}" href="#ABMPredictionMarkets.transact!-Tuple{Any, AbstractCDA, Any, Any}"><code>ABMPredictionMarkets.transact!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">transact!(proposal, ::AbstractCDA, model, bidx)</code></pre><p>Attempts to find a possible trade for a submitted proposal (bid or ask). Returns <code>true</code> if the proposal trade was performed. Otherwise, <code>false</code> is returned. If the proposed trade is not completed, the proposal is added to  the order book.</p><p><strong>Arguments</strong></p><ul><li><code>proposal</code>: a proposal bid or ask </li><li><code>::AbstractCDA</code>: a double continuous auction prediction market</li><li><code>model</code>: an abm object for the prediction market simulation </li><li><code>bidx</code>: the index of the current order book</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/continuous_double_auction.jl#L174-L187">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ABMPredictionMarkets.update_reserves!-Tuple{AbstractCPMM, Any, Any, Any, Bool}" href="#ABMPredictionMarkets.update_reserves!-Tuple{AbstractCPMM, Any, Any, Any, Bool}"><code>ABMPredictionMarkets.update_reserves!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update_reserves!(market::AbstractCPMM, n_shares, cost, midx, yes::Bool)</code></pre><p>Updates the reserves given a transaction with a specified number of shares and total cost. </p><p><strong>Arguments</strong></p><ul><li><code>market::AbstractCPMM</code>: an abstract constant product market maker object </li><li><code>n_shares</code>: the number of shares</li><li><code>cost</code>: the total cost of the shares</li><li><code>midx</code>: market index</li><li><code>yes::Bool</code>: corresponds to a yes share if true; otherwise, corresponds to a no share</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/itsdfish/ABMPredictionMarkets.jl/blob/f8fa63b625851f883334dc51b429de1eb758e08c/src/constant_product_market_maker.jl#L72-L84">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../price_manipulation_example/">« Price Manipulation Example</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 12 August 2025 08:39">Tuesday 12 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
